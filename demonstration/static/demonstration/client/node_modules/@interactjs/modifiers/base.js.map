{
	"version": 3,
	"sources": [
		"base.ts"
	],
	"names": [
		"extend",
		"start",
		"interaction",
		"phase",
		"pageCoords",
		"prevCoords",
		"interactable",
		"element",
		"modifierList",
		"getModifierList",
		"states",
		"prepareStates",
		"rect",
		"width",
		"right",
		"left",
		"height",
		"bottom",
		"top",
		"startOffset",
		"getRectOffset",
		"modifiers",
		"startDelta",
		"x",
		"y",
		"arg",
		"preEnd",
		"requireEndOnly",
		"result",
		"coords",
		"prev",
		"page",
		"startAll",
		"setAll",
		"state",
		"methods",
		"delta",
		"rectDelta",
		"changed",
		"options",
		"set",
		"shouldDo",
		"rectChanged",
		"beforeMove",
		"skipModifiers",
		"slice",
		"modifierResult",
		"modifiedCoords",
		"cur",
		"interacting",
		"adjustment",
		"setCoords",
		"beforeEnd",
		"event",
		"noPreEnd",
		"length",
		"didPreEnd",
		"endResult",
		"endPrevented",
		"move",
		"stop",
		"modifierArg",
		"actionOptions",
		"prepared",
		"name",
		"actionModifiers",
		"filter",
		"modifier",
		"enabled",
		"map",
		"type",
		"_methods",
		"m",
		"index",
		"push",
		"curCoords",
		"startCoords",
		"curDelta",
		"coordsSet",
		"client",
		"restoreCoords",
		"coordsAndDeltas",
		"endOnly",
		"alwaysOnEnd",
		"setStart",
		"makeModifier",
		"module",
		"defaults",
		"_options",
		"prop",
		"_defaults",
		"id",
		"install",
		"scope",
		"perAction",
		"listeners",
		"offsets",
		"before"
	],
	"mappings": "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",
	"sourcesContent": [
		"import extend from '../utils/extend'\n\ndeclare module '@interactjs/core/scope' {\n  interface Scope {\n    modifiers?: any\n  }\n}\n\ndeclare module '@interactjs/core/Interaction' {\n  interface Interaction {\n    modifiers?: {\n      states: ModifierState[]\n      offsets: any\n      startOffset: any\n      startDelta: Interact.Point\n      result?: {\n        delta: {\n          x: number\n          y: number\n        }\n        rectDelta: {\n          left: number\n          right: number\n          top: number\n          bottom: number\n        }\n        coords: Interact.Point\n        changed: boolean\n      }\n      endPrevented: boolean\n    }\n  }\n}\n\ndeclare module '@interactjs/core/defaultOptions' {\n  interface PerActionDefaults {\n    modifiers?: Modifier[]\n  }\n}\n\nexport interface Modifier<\n  Defaults = any,\n  State extends ModifierState = any,\n  Name extends string = any\n> {\n  options?: Defaults\n  methods: {\n    start?: (arg: ModifierArg<State>) => void\n    set: (arg: ModifierArg<State>) => void\n    beforeEnd?: (arg: ModifierArg<State>) => boolean\n    stop?: (arg: ModifierArg<State>) => void\n  }\n  name?: Name\n}\n\nexport type ModifierState<\n  Defaults = {},\n  StateProps extends { [prop: string]: any } = {},\n  Name extends string = any\n> = {\n  options: Defaults\n  methods?: Modifier<Defaults>['methods']\n  index?: number\n  name?: Name\n} & StateProps\n\nexport interface ModifierArg<State extends ModifierState = ModifierState> {\n  interaction: Interact.Interaction\n  interactable: Interact.Interactable\n  phase: Interact.EventPhase\n  rect: Interact.Rect\n  states?: State[]\n  state?: State\n  element: Interact.Element\n  pageCoords?: Interact.Point\n  prevCoords?: Interact.Point\n  coords?: Interact.Point\n  startOffset?: Interact.Rect\n  preEnd?: boolean\n  requireEndOnly?: boolean\n}\n\nexport interface ModifierModule<\n  Defaults extends { enabled?: boolean },\n  State extends ModifierState,\n> {\n  defaults?: Defaults\n  start? (arg: ModifierArg<State>): void\n  set? (arg: ModifierArg<State>): void\n  beforeEnd? (arg: ModifierArg<State>): boolean\n  stop? (arg: ModifierArg<State>): void\n}\n\nfunction start (\n  { interaction, phase }: { interaction: Interact.Interaction, phase: Interact.EventPhase },\n  pageCoords: Interact.Point,\n  prevCoords: Interact.Point,\n) {\n  const { interactable, element } = interaction\n  const modifierList = getModifierList(interaction)\n  const states = prepareStates(modifierList)\n\n  const rect = extend({} as { [key: string]: any }, interaction.rect)\n\n  if (!('width'  in rect)) { rect.width  = rect.right  - rect.left }\n  if (!('height' in rect)) { rect.height = rect.bottom - rect.top  }\n\n  const startOffset = getRectOffset(rect, pageCoords)\n\n  interaction.modifiers.startOffset = startOffset\n  interaction.modifiers.startDelta = { x: 0, y: 0 }\n\n  const arg: ModifierArg<any> = {\n    interaction,\n    interactable,\n    element,\n    pageCoords,\n    phase,\n    rect,\n    startOffset,\n    states,\n    preEnd: false,\n    requireEndOnly: false,\n    prevCoords: prevCoords || (interaction.modifiers.result\n      ? interaction.modifiers.result.coords\n      : interaction.coords.prev.page),\n  }\n\n  interaction.modifiers.states = states\n  interaction.modifiers.result = null\n  startAll(arg)\n\n  const result = interaction.modifiers.result = setAll(arg)\n\n  return result\n}\n\nexport function startAll (arg: ModifierArg<any>) {\n  const states: ModifierState[] = arg.states\n\n  for (const state of states) {\n    if (state.methods.start) {\n      arg.state = state\n      state.methods.start(arg)\n    }\n  }\n}\n\nexport function setAll (arg: ModifierArg) {\n  const {\n    prevCoords,\n    phase,\n    preEnd,\n    requireEndOnly,\n    rect,\n    states,\n  } = arg\n\n  arg.coords = extend({}, arg.pageCoords)\n  arg.rect = extend({}, rect)\n\n  const result = {\n    delta: { x: 0, y: 0 },\n    rectDelta: {\n      left  : 0,\n      right : 0,\n      top   : 0,\n      bottom: 0,\n    },\n    coords: arg.coords,\n    changed: true,\n  }\n\n  for (const state of states) {\n    const { options } = state\n\n    if (!state.methods.set ||\n      !shouldDo(options, preEnd, requireEndOnly, phase)) { continue }\n\n    arg.state = state\n    state.methods.set(arg)\n  }\n\n  result.delta.x = arg.coords.x - arg.pageCoords.x\n  result.delta.y = arg.coords.y - arg.pageCoords.y\n\n  let rectChanged = false\n\n  if (rect) {\n    result.rectDelta.left   = arg.rect.left - rect.left\n    result.rectDelta.right  = arg.rect.right - rect.right\n    result.rectDelta.top    = arg.rect.top - rect.top\n    result.rectDelta.bottom = arg.rect.bottom - rect.bottom\n\n    rectChanged = result.rectDelta.left !== 0 ||\n      result.rectDelta.right !== 0 ||\n      result.rectDelta.top !== 0 ||\n      result.rectDelta.bottom !== 0\n  }\n\n  result.changed = !prevCoords || prevCoords.x !== result.coords.x ||\n    prevCoords.y !== result.coords.y ||\n    rectChanged\n\n  return result\n}\n\nfunction beforeMove (arg: Partial<Interact.DoPhaseArg> & {\n  interaction: Interact.Interaction\n  phase: Interact.EventPhase\n  preEnd?: boolean\n  skipModifiers?: number\n  prevCoords?: Interact.Point\n  modifiedCoords?: Interact.Point\n}): void | false {\n  const { interaction, phase, preEnd, skipModifiers } = arg\n  const { interactable, element } = interaction\n\n  const states = skipModifiers\n    ? interaction.modifiers.states.slice(skipModifiers)\n    : interaction.modifiers.states\n  const prevCoords = arg.prevCoords || (interaction.modifiers.result\n    ? interaction.modifiers.result.coords\n    : interaction.coords.prev.page)\n\n  const modifierResult = setAll({\n    interaction,\n    interactable,\n    element,\n    preEnd,\n    phase,\n    pageCoords: arg.modifiedCoords || interaction.coords.cur.page,\n    prevCoords,\n    rect: interaction.rect,\n    states,\n    requireEndOnly: false,\n  })\n\n  interaction.modifiers.result = modifierResult\n\n  // don't fire an action move if a modifier would keep the event in the same\n  // cordinates as before\n  if (!modifierResult.changed && interaction.interacting()) {\n    return false\n  }\n\n  if (arg.modifiedCoords) {\n    const { page } = interaction.coords.cur\n    const adjustment = {\n      x: arg.modifiedCoords.x - page.x,\n      y: arg.modifiedCoords.y - page.y,\n    }\n\n    modifierResult.coords.x += adjustment.x\n    modifierResult.coords.y += adjustment.y\n    modifierResult.delta.x += adjustment.x\n    modifierResult.delta.y += adjustment.y\n  }\n  setCoords(arg)\n}\n\nfunction beforeEnd (arg: Interact.DoPhaseArg & { noPreEnd?: boolean, state?: ModifierState }): void | false {\n  const { interaction, event, noPreEnd } = arg\n  const states = interaction.modifiers.states\n\n  if (noPreEnd || !states || !states.length) {\n    return\n  }\n\n  let didPreEnd = false\n\n  for (const state of states) {\n    arg.state = state\n    const { options, methods } = state\n\n    const endResult = methods.beforeEnd && methods.beforeEnd(arg as unknown as ModifierArg)\n\n    if (endResult === false) {\n      interaction.modifiers.endPrevented = true\n      return false\n    }\n\n    // if the endOnly option is true for any modifier\n    if (!didPreEnd && shouldDo(options, true, true)) {\n      // fire a move event at the modified coordinates\n      interaction.move({ event, preEnd: true })\n      didPreEnd = true\n    }\n  }\n}\n\nfunction stop (arg: { interaction: Interact.Interaction, phase: Interact.EventPhase }) {\n  const { interaction } = arg\n  const states = interaction.modifiers.states\n\n  if (!states || !states.length) {\n    return\n  }\n\n  const modifierArg: ModifierArg = extend({\n    states,\n    interactable: interaction.interactable,\n    element: interaction.element,\n    rect: null,\n  }, arg as any)\n\n  for (const state of states) {\n    modifierArg.state = state\n\n    if (state.methods.stop) { state.methods.stop(modifierArg) }\n  }\n\n  arg.interaction.modifiers.states = null\n  arg.interaction.modifiers.endPrevented = null\n}\n\nfunction getModifierList (interaction) {\n  const actionOptions = interaction.interactable.options[interaction.prepared.name]\n  const actionModifiers = actionOptions.modifiers\n\n  if (actionModifiers && actionModifiers.length) {\n    return actionModifiers.filter(\n      modifier => !modifier.options || modifier.options.enabled !== false,\n    )\n  }\n\n  return ['snap', 'snapSize', 'snapEdges', 'restrict', 'restrictEdges', 'restrictSize']\n    .map(type => {\n      const options = actionOptions[type]\n\n      return options && options.enabled && {\n        options,\n        methods: options._methods,\n      }\n    })\n    .filter(m => !!m)\n}\n\nexport function prepareStates (modifierList: Modifier[]) {\n  const states: ModifierState[] = []\n\n  for (let index = 0; index < modifierList.length; index++) {\n    const { options, methods, name } = modifierList[index]\n\n    if (options && options.enabled === false) { continue }\n\n    states.push({\n      options,\n      methods,\n      index,\n      name,\n    })\n  }\n\n  return states\n}\n\nexport function setCoords (arg: { interaction: Interact.Interaction, phase: Interact.EventPhase, rect?: Interact.Rect }) {\n  const { interaction, phase } = arg\n  const curCoords = interaction.coords.cur\n  const startCoords = interaction.coords.start\n  const { result, startDelta } = interaction.modifiers\n  const curDelta = result.delta\n\n  if (phase === 'start') {\n    extend(interaction.modifiers.startDelta, result.delta)\n  }\n\n  for (const [coordsSet, delta] of [[startCoords, startDelta], [curCoords, curDelta]] as const) {\n    coordsSet.page.x   += delta.x\n    coordsSet.page.y   += delta.y\n    coordsSet.client.x += delta.x\n    coordsSet.client.y += delta.y\n  }\n\n  const { rectDelta } = interaction.modifiers.result\n  const rect = arg.rect || interaction.rect\n\n  rect.left   += rectDelta.left\n  rect.right  += rectDelta.right\n  rect.top    += rectDelta.top\n  rect.bottom += rectDelta.bottom\n\n  rect.width = rect.right - rect.left\n  rect.height = rect.bottom - rect.top\n}\n\nexport function restoreCoords ({ interaction: { coords, rect, modifiers } }: { interaction: Interact.Interaction }) {\n  if (!modifiers.result) { return }\n\n  const { startDelta } = modifiers\n  const { delta: curDelta, rectDelta } = modifiers.result\n\n  const coordsAndDeltas = [\n    [coords.start, startDelta],\n    [coords.cur, curDelta],\n  ]\n\n  for (const [coordsSet, delta] of coordsAndDeltas as any) {\n    coordsSet.page.x -= delta.x\n    coordsSet.page.y -= delta.y\n    coordsSet.client.x -= delta.x\n    coordsSet.client.y -= delta.y\n  }\n\n  rect.left -= rectDelta.left\n  rect.right -= rectDelta.right\n  rect.top -= rectDelta.top\n  rect.bottom -= rectDelta.bottom\n}\n\nfunction shouldDo (options, preEnd?: boolean, requireEndOnly?: boolean, phase?: string) {\n  return options\n    ? options.enabled !== false &&\n      (preEnd || !options.endOnly) &&\n      (!requireEndOnly || options.endOnly || options.alwaysOnEnd) &&\n      (options.setStart || phase !== 'start')\n    : !requireEndOnly\n}\n\nfunction getRectOffset (rect, coords) {\n  return rect\n    ? {\n      left  : coords.x - rect.left,\n      top   : coords.y - rect.top,\n      right : rect.right  - coords.x,\n      bottom: rect.bottom - coords.y,\n    }\n    : {\n      left  : 0,\n      top   : 0,\n      right : 0,\n      bottom: 0,\n    }\n}\n\nexport function makeModifier<\n  Defaults extends { enabled?: boolean },\n  State extends ModifierState,\n  Name extends string\n> (\n  module: ModifierModule<Defaults, State>,\n  name?: Name,\n) {\n  const { defaults } = module\n  const methods = {\n    start: module.start,\n    set: module.set,\n    beforeEnd: module.beforeEnd,\n    stop: module.stop,\n  }\n\n  const modifier = (_options?: Partial<Defaults>) => {\n    const options: Defaults = (_options || {}) as Defaults\n\n    options.enabled = options.enabled !== false\n\n    // add missing defaults to options\n    for (const prop in defaults) {\n      if (!(prop in options)) {\n        options[prop] = defaults[prop]\n      }\n    }\n\n    const m: Modifier<Defaults, State, Name> = { options, methods, name }\n\n    return m\n  }\n\n  if (name && typeof name === 'string') {\n    // for backwrads compatibility\n    modifier._defaults = defaults\n    modifier._methods = methods\n  }\n\n  return modifier\n}\n\nexport default {\n  id: 'modifiers/base',\n  install: scope => {\n    scope.defaults.perAction.modifiers = []\n  },\n  listeners: {\n    'interactions:new': ({ interaction }) => {\n      interaction.modifiers = {\n        startOffset: { left: 0, right: 0, top: 0, bottom: 0 },\n        offsets: {},\n        states: null,\n        result: null,\n        endPrevented: false,\n        startDelta: null,\n      }\n    },\n\n    'interactions:before-action-start': arg => {\n      start(arg, arg.interaction.coords.start.page, arg.interaction.coords.prev.page)\n      setCoords(arg)\n    },\n\n    'interactions:action-resume': arg => {\n      stop(arg)\n      start(arg, arg.interaction.coords.cur.page, arg.interaction.modifiers.result.coords)\n      beforeMove(arg)\n    },\n\n    'interactions:after-action-move': restoreCoords,\n    'interactions:before-action-move': beforeMove,\n\n    'interactions:after-action-start': restoreCoords,\n\n    'interactions:before-action-end': beforeEnd,\n    'interactions:stop': stop,\n  },\n  before: 'ations',\n  startAll,\n  setAll,\n  prepareStates,\n  start,\n  beforeMove,\n  beforeEnd,\n  stop,\n  shouldDo,\n  getModifierList,\n  getRectOffset,\n  makeModifier,\n}\n"
	]
}